==2010== Memcheck, a memory error detector
==2010== Copyright (C) 2002-2013, and GNU GPL'd, by Julian Seward et al.
==2010== Using Valgrind-3.9.0 and LibVEX; rerun with -h for copyright info
==2010== Command: ./machine test
==2010== 
...3
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
...3
1
==2010== 
==2010== HEAP SUMMARY:
==2010==     in use at exit: 2,769,930 bytes in 115,841 blocks
==2010==   total heap usage: 244,163 allocs, 128,322 frees, 5,939,882 bytes allocated
==2010== 
==2010== 2,761,640 (56,360 direct, 2,705,280 indirect) bytes in 1,409 blocks are definitely lost in loss record 139 of 139
==2010==    at 0x4C28730: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==2010==    by 0x402F9E: lobj_alloc (lky_object.c:11)
==2010==    by 0x404423: lobjb_default_class_callable (lkyobj_builtin.c:464)
==2010==    by 0x40178D: mach_eval (lky_machine.c:359)
==2010==    by 0x400BE5: mach_execute (lky_machine.c:96)
==2010==    by 0x405295: main (bin_main.c:32)
==2010== 
==2010== LEAK SUMMARY:
==2010==    definitely lost: 56,360 bytes in 1,409 blocks
==2010==    indirectly lost: 2,705,280 bytes in 114,129 blocks
==2010==      possibly lost: 0 bytes in 0 blocks
==2010==    still reachable: 8,290 bytes in 303 blocks
==2010==         suppressed: 0 bytes in 0 blocks
==2010== Reachable blocks (those to which a pointer was found) are not shown.
==2010== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==2010== 
==2010== For counts of detected and suppressed errors, rerun with: -v
==2010== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 2 from 2)
